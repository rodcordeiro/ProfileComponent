<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <main class="container">
        <header>
            <div class="userInfo">
                <img src="https://rodcordeiro.github.io/shares/img/avatar.png" alt="Avatar">
                <div class="UserText">
                    <h3>Rodrigo Cordeiro</h3>
                    <p><span id="at">@</span><span id="user">R0dC0rdeiro</span></p>
                </div>
            </div>
            <button onclick="toggleModal()">
                <i data-feather="edit"></i>
                <span>Editar</span>
            </button>
        </header>
        <section>
            <div class="card projects">
                <h3>Projetos</h3>
                <p>27</p>
            </div>
            <div class="card stars">
                <h3>Estrelas</h3>
                <p>302</p>
            </div>
            <div class="card followers">
                <h3>Seguidores</h3>
                <p>83</p>
            </div>
        </section>
    </main>
    <div class="modal hidden">
        <button onclick="toggleModal()">
            Close
        </button>
        <input type="text" name="name" id="name" placeholder="" />
        <input type="text" name="username" id="username" placeholder=""/>
        <button onclick="EditName()">
            Atualizar
        </button>
    </div>
    <script>
        feather.replace()
        const stats = ["projects", "stars", "followers"]
        stats.forEach((status)=>{
            const number = Math.floor(Math.random() * 100 + 1)
            const container = document.querySelector(`.card.${status}>p`)
            container.innerHTML = number
        })
        const currentName = document.querySelector('.UserText h3').textContent
        const currentUsername = document.querySelector('span#user').textContent
        const nameInput = document.querySelector('input#name')
        const usernameInput = document.querySelector('input#username')
        
        nameInput.setAttribute('value', currentName)
        usernameInput.setAttribute('value', `@${currentUsername}`)
       
        function toggleModal(){
            const modal = document.querySelector('.modal')
            modal.classList.toggle('hidden');
        }
        
        function EditName(){
            const nameElmt = document.querySelector('.UserText h3')
            const usernameElmt = document.querySelector('span#user')
            const nameInput = document.querySelector('input#name').value
            const usernameInput = document.querySelector('input#username').value.replace('@','')
            
            nameElmt.textContent = nameInput
            usernameElmt.textContent = usernameInput

            toggleModal()
        }
    </script>
</body>
</html>